!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){var t,a,i,n,r,s,o,l,d,u,c,f;!/** File generated by Grunt -- do not modify
 *  JQUERY-FORM-VALIDATOR
 *
 *  @version 2.3.77
 *  @website http://formvalidator.net/
 *  @author Victor Jonsson, http://victorjonsson.se
 *  @license MIT
 */ function(e,t,a){var i=function(){return!1},n=null,r={numHalted:0,haltValidation:function(t){this.numHalted++,e.formUtils.haltValidation=!0,t.unbind("submit",i).bind("submit",i).find('*[type="submit"]').addClass("disabled").attr("disabled","disabled")},unHaltValidation:function(t){this.numHalted--,0===this.numHalted&&(e.formUtils.haltValidation=!1,t.unbind("submit",i).find('*[type="submit"]').removeClass("disabled").removeAttr("disabled","disabled"))}};function s(e,t){this.$form=e,this.$input=t,this.reset(),t.on("change paste",this.reset.bind(this))}s.prototype.reset=function(){this.haltedFormValidation=!1,this.hasRun=!1,this.isRunning=!1,this.result=void 0},s.prototype.run=function(e,t){return"keyup"===e?null:this.isRunning?(n=e,this.haltedFormValidation||(r.haltValidation(),this.haltedFormValidation=!0),null):this.hasRun?this.result:(n=e,r.haltValidation(this.$form),this.haltedFormValidation=!0,this.isRunning=!0,this.$input.attr("disabled","disabled").addClass("async-validation"),this.$form.addClass("async-validation"),t((function(e){this.done(e)}).bind(this)),null)},s.prototype.done=function(e){this.result=e,this.hasRun=!0,this.isRunning=!1,this.$input.removeAttr("disabled").removeClass("async-validation"),this.$form.removeClass("async-validation"),this.haltedFormValidation&&(r.unHaltValidation(this.$form),"submit"===n?this.$form.trigger("submit"):this.$input.trigger("validation.revalidate"))},s.loadInstance=function(e,t,a){var i,n=t.get(0);return n.asyncValidators||(n.asyncValidators={}),n.asyncValidators[e]?i=n.asyncValidators[e]:(i=new s(a,t),n.asyncValidators[e]=i),i},e.formUtils=e.extend(e.formUtils||{},{asyncValidation:function(e,t,a){return this.warn("Use of deprecated function $.formUtils.asyncValidation, use $.formUtils.addAsyncValidator() instead"),s.loadInstance(e,t,a)},addAsyncValidator:function(t){var a=e.extend({},t),i=a.validatorFunction;a.async=!0,a.validatorFunction=function(e,t,n,r,o,l){return s.loadInstance(this.name,t,o).run(l,function(s){i.apply(a,[s,e,t,n,r,o,l])})},this.addValidator(a)}}),e(t).bind("validatorsLoaded formValidationSetup",function(t,a){a||(a=e("form")),a.find("[data-validation]").each(function(){var t=e(this);t.valAttr("async",!1),e.each(e.split(t.attr("data-validation")),function(a,i){var n=e.formUtils.validators["validate_"+i];n&&n.async&&t.valAttr("async","yes")})})})}(e,window),(t=e).fn.validateForm=function(e,a){return t.formUtils.warn("Use of deprecated function $.validateForm, use $.isValid instead"),this.isValid(e,a,!0)},t(window).on("formValidationPluginInit",function(e,a){var i;(function e(a){var i={se:"sv",cz:"cs",dk:"da"};if(a.lang in i){var n=i[a.lang];t.formUtils.warn('Deprecated use of lang code "'+a.lang+'" use "'+n+'" instead'),a.lang=n}})(a),(i=a)&&"custom"===i.errorMessagePosition&&"function"==typeof i.errorMessageCustom&&(t.formUtils.warn("Use of deprecated function errorMessageCustom, use config.submitErrorMessageCallback instead"),i.submitErrorMessageCallback=function(e,t){i.errorMessageCustom(e,i.language.errorTitle,t,i)}),function e(a){if(a.errorMessagePosition&&"object"==typeof a.errorMessagePosition){t.formUtils.warn("Deprecated use of config parameter errorMessagePosition, use config.submitErrorMessageCallback instead");var i=a.errorMessagePosition;a.errorMessagePosition="top",a.submitErrorMessageCallback=function(){return i}}}(a)}).on("validatorsLoaded formValidationSetup",function(e,a){var i,n;a||(a=t("form")),(n=(i=a).find("[data-validation-if-checked]")).length&&t.formUtils.warn('Detected use of attribute "data-validation-if-checked" which is deprecated. Use "data-validation-depends-on" provided by module "logic"'),n.on("beforeValidation",function(){var e=t(this),a=t('input[name="'+e.valAttr("if-checked")+'"]',i),n=a.is(":checked"),r=(t.formUtils.getValue(a)||"").toString(),s=e.valAttr("if-checked-value");n&&(!s||s===r)||e.valAttr("skipped",!0)})}),a=e,i={resolveErrorMessage:function(e,t,a,i,n){var r=i.validationErrorMsgAttribute+"-"+a.replace("validate_",""),s=e.attr(r);return s||(s=e.attr(i.validationErrorMsgAttribute))||(s="function"!=typeof t.errorMessageKey?n[t.errorMessageKey]:n[t.errorMessageKey(i)])||(s=t.errorMessage),s},getParentContainer:function(e){if(e.valAttr("error-msg-container"))return a(e.valAttr("error-msg-container"));var t=e.parent();return"checkbox"===e.attr("type")&&e.closest(".checkbox").length?t=e.closest(".checkbox").parent():"radio"===e.attr("type")&&e.closest(".radio").length&&(t=e.closest(".radio").parent()),t.closest(".input-group").length&&(t=t.closest(".input-group").parent()),t},applyInputErrorStyling:function(e,t){e.addClass(t.errorElementClass).removeClass(t.successElementClass),this.getParentContainer(e).addClass(t.inputParentClassOnError).removeClass(t.inputParentClassOnSuccess),""!==t.borderColorOnError&&e.css("border-color",t.borderColorOnError)},applyInputSuccessStyling:function(e,t){e.addClass(t.successElementClass),this.getParentContainer(e).addClass(t.inputParentClassOnSuccess)},removeInputStylingAndMessage:function(e,t){e.removeClass(t.successElementClass).removeClass(t.errorElementClass).css("border-color","");var a=i.getParentContainer(e);if(a.removeClass(t.inputParentClassOnError).removeClass(t.inputParentClassOnSuccess),"function"==typeof t.inlineErrorMessageCallback){var n=t.inlineErrorMessageCallback(e,!1,t);n&&n.html("")}else a.find("."+t.errorMessageClass).remove()},removeAllMessagesAndStyling:function(e,t){if("function"==typeof t.submitErrorMessageCallback){var n=t.submitErrorMessageCallback(e,!1,t);n&&n.html("")}else e.find("."+t.errorMessageClass+".alert").remove();e.find("."+t.errorElementClass+",."+t.successElementClass).each(function(){i.removeInputStylingAndMessage(a(this),t)})},setInlineMessage:function(e,t,i){this.applyInputErrorStyling(e,i);var n,r=document.getElementById(e.attr("name")+"_err_msg"),s=!1,o=function(i){a.formUtils.$win.trigger("validationErrorDisplay",[e,i]),i.html(t)},l=function(){var r=!1;s.find("."+i.errorMessageClass).each(function(){if(this.inputReferer===e[0])return r=a(this),!1}),r?t?o(r):r.remove():""!==t&&(n=a('<div class="'+i.errorMessageClass+' alert"></div>'),o(n),n[0].inputReferer=e[0],s.prepend(n))};if(r)a.formUtils.warn("Using deprecated element reference "+r.id),s=a(r),l();else if("function"==typeof i.inlineErrorMessageCallback){if(!(s=i.inlineErrorMessageCallback(e,t,i)))return;l()}else{var d=this.getParentContainer(e);0===(n=d.find("."+i.errorMessageClass+".help-block")).length&&(n=a("<span></span>").addClass("help-block").addClass(i.errorMessageClass)).appendTo(d),o(n)}},setMessageInTopOfForm:function(e,t,i,n){var r='<div class="{errorMessageClass} alert alert-danger"><strong>{errorTitle}</strong><ul>{fields}</ul></div>',s=!1;if("function"!=typeof i.submitErrorMessageCallback||(s=i.submitErrorMessageCallback(e,t,i))){var o={errorTitle:n.errorTitle,fields:"",errorMessageClass:i.errorMessageClass};a.each(t,function(e,t){o.fields+="<li>"+t+"</li>"}),a.each(o,function(e,t){r=r.replace("{"+e+"}",t)}),s?s.html(r):e.children().eq(0).before(a(r))}}},a.formUtils=a.extend(a.formUtils||{},{dialogs:i}),n=e,r=window,s=0,n.fn.validateOnBlur=function(e,t){var a=this,i=this.find("*[data-validation]");return i.each(function(){var i=n(this);if(i.is("[type=radio]")){var r=a.find('[type=radio][name="'+i.attr("name")+'"]');r.bind("blur.validation",function(){i.validateInputOnBlur(e,t,!0,"blur")}),t.validateCheckboxRadioOnClick&&r.bind("click.validation",function(){i.validateInputOnBlur(e,t,!0,"click")})}}),i.bind("blur.validation",function(){n(this).validateInputOnBlur(e,t,!0,"blur")}),t.validateCheckboxRadioOnClick&&this.find("input[type=checkbox][data-validation],input[type=radio][data-validation]").bind("click.validation",function(){n(this).validateInputOnBlur(e,t,!0,"click")}),this},n.fn.validateOnEvent=function(e,t){return("FORM"===this[0].nodeName?this.find("*[data-validation-event]"):this).each(function(){var a=n(this),i=a.valAttr("event");i&&a.unbind(i+".validation").bind(i+".validation",function(a){9!==(a||{}).keyCode&&n(this).validateInputOnBlur(e,t,!0,i)})}),this},n.fn.showHelpOnFocus=function(e){return e||(e="data-validation-help"),this.find("textarea,input").each(function(){var t=n(this),a="jquery_form_help_"+ ++s,i=t.attr(e);t.removeClass("has-help-text").unbind("focus.help").unbind("blur.help"),i&&t.addClass("has-help-txt").bind("focus.help",function(){var e=t.parent().find("."+a);0===e.length&&(e=n("<span />").addClass(a).addClass("help").addClass("help-block").text(i).hide(),t.after(e)),e.fadeIn()}).bind("blur.help",function(){n(this).parent().find("."+a).fadeOut("slow")})}),this},n.fn.validate=function(e,t,a){var i=n.extend({},n.formUtils.LANG,a||{});this.each(function(){var a=n(this),r=(a.closest("form").get(0)||{}).validationConfig||n.formUtils.defaultConfig();a.one("validation",function(t,a){"function"==typeof e&&e(a,this,t)}),a.validateInputOnBlur(i,n.extend({},r,t||{}),!0)})},n.fn.willPostponeValidation=function(){return(this.valAttr("suggestion-nr")||this.valAttr("postpone")||this.hasClass("hasDatepicker"))&&!r.postponedValidation},n.fn.validateInputOnBlur=function(e,t,a,i){if(n.formUtils.eventType=i,this.willPostponeValidation()){var s=this,o=this.valAttr("postpone")||200;return r.postponedValidation=function(){s.validateInputOnBlur(e,t,a,i),r.postponedValidation=!1},setTimeout(function(){r.postponedValidation&&r.postponedValidation()},o),this}e=n.extend({},n.formUtils.LANG,e||{}),n.formUtils.dialogs.removeInputStylingAndMessage(this,t);var l=this,d=l.closest("form"),u=n.formUtils.validateInput(l,e,t,d,i),c=function(){l.validateInputOnBlur(e,t,!1,"blur.revalidated")};return"blur"===i&&l.unbind("validation.revalidate",c).one("validation.revalidate",c),a&&l.removeKeyUpValidation(),u.shouldChangeDisplay&&(u.isValid?n.formUtils.dialogs.applyInputSuccessStyling(l,t):n.formUtils.dialogs.setInlineMessage(l,u.errorMsg,t)),!u.isValid&&a&&l.validateOnKeyUp(e,t),this},n.fn.validateOnKeyUp=function(e,t){return this.each(function(){var a=n(this);a.valAttr("has-keyup-event")||a.valAttr("has-keyup-event","true").bind("keyup.validation",function(i){9!==i.keyCode&&a.validateInputOnBlur(e,t,!1,"keyup")})}),this},n.fn.removeKeyUpValidation=function(){return this.each(function(){n(this).valAttr("has-keyup-event",!1).unbind("keyup.validation")}),this},n.fn.valAttr=function(e,t){return void 0===t?this.attr("data-validation-"+e):!1===t||null===t?this.removeAttr("data-validation-"+e):(e=e.length>0?"-"+e:"",this.attr("data-validation"+e,t))},n.fn.isValid=function(e,t,a){if(n.formUtils.isLoadingModules){var i=this;return setTimeout(function(){i.isValid(e,t,a)},200),null}t=n.extend({},n.formUtils.defaultConfig(),t||{}),e=n.extend({},n.formUtils.LANG,e||{}),a=!1!==a,n.formUtils.errorDisplayPreventedWhenHalted&&(delete n.formUtils.errorDisplayPreventedWhenHalted,a=!1);var r=function(e,i){0>n.inArray(e,o)&&o.push(e),l.push(i),i.valAttr("current-error",e),a&&n.formUtils.dialogs.applyInputErrorStyling(i,t)},s=[],o=[],l=[],d=this;if(a&&n.formUtils.dialogs.removeAllMessagesAndStyling(d,t),d.find("input,textarea,select").filter(':not([type="submit"],[type="button"])').each(function(){var a,i,o=n(this),l=o.attr("type"),u="radio"===l||"checkbox"===l,c=o.attr("name");if(a=c,!("submit"===(i=l)||"button"===i||"reset"===i||n.inArray(a,t.ignore||[])>-1)&&(!u||0>n.inArray(c,s))){u&&s.push(c);var f=n.formUtils.validateInput(o,e,t,d,"submit");f.isValid?f.isValid&&f.shouldChangeDisplay&&(o.valAttr("current-error",!1),n.formUtils.dialogs.applyInputSuccessStyling(o,t)):r(f.errorMsg,o)}}),"function"==typeof t.onValidate){var u=t.onValidate(d);n.isArray(u)?n.each(u,function(e,t){r(t.message,t.element)}):u&&u.element&&u.message&&r(u.message,u.element)}return n.formUtils.isValidatingEntireForm=!1,l.length>0&&a&&("top"===t.errorMessagePosition?n.formUtils.dialogs.setMessageInTopOfForm(d,o,t,e):n.each(l,function(e,a){n.formUtils.dialogs.setInlineMessage(a,a.valAttr("current-error"),t)}),t.scrollToTopOnError&&n.formUtils.$win.scrollTop(d.offset().top-20)),!a&&n.formUtils.haltValidation&&(n.formUtils.errorDisplayPreventedWhenHalted=!0),0===l.length&&!n.formUtils.haltValidation},n.fn.restrictLength=function(e){return new n.formUtils.lengthRestriction(this,e),this},n.fn.addSuggestions=function(e){var t=!1;return this.find("input").each(function(){var a=n(this);(t=n.split(a.attr("data-suggestions"))).length>0&&!a.hasClass("has-suggestions")&&(n.formUtils.suggest(a,t,e),a.addClass("has-suggestions"))}),this},(o=e).formUtils=o.extend(o.formUtils||{},{isLoadingModules:!1,loadedModules:{},registerLoadedModule:function(e){this.loadedModules[o.trim(e).toLowerCase()]=!0},hasLoadedModule:function(e){return o.trim(e).toLowerCase() in this.loadedModules},loadModules:function(e,t,a){if(o.formUtils.isLoadingModules){setTimeout(function(){o.formUtils.loadModules(e,t,a)},100);return}var i=function(e,t){var i=o.split(e),n=i.length,r=function(){0==--n&&(o.formUtils.isLoadingModules=!1,"function"==typeof a&&a())};n>0&&(o.formUtils.isLoadingModules=!0);var s="?_="+new Date().getTime(),l=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];o.each(i,function(e,a){if(0===(a=o.trim(a)).length||o.formUtils.hasLoadedModule(a))r();else{var i=t+a+(".js"===a.slice(-3)?"":".js"),n=document.createElement("SCRIPT");"function"==typeof define&&define.amd?require([i+(".dev.js"===i.slice(-7)?s:"")],r):(n.type="text/javascript",n.onload=r,n.src=i+(".dev.js"===i.slice(-7)?s:""),n.onerror=function(){o.formUtils.warn("Unable to load form validation module "+i,!0),r()},n.onreadystatechange=function(){("complete"===this.readyState||"loaded"===this.readyState)&&(r(),this.onload=null,this.onreadystatechange=null)},l.appendChild(n))}})};if(t)i(e,t);else{var n=function(){var t=!1;return o('script[src*="form-validator"]').each(function(){if(!(this.src.split("form-validator")[1].split("node_modules").length>1))return"/"==(t=this.src.substr(0,this.src.lastIndexOf("/"))+"/")&&(t=""),!1}),!1!==t&&(i(e,t),!0)};n()||o(function(){n()||"function"!=typeof a||a()})}}}),(l=e).split=function(e,t,a){var i=RegExp("[,|"+((a=void 0===a||!0===a)?"\\s":"")+"-]\\s*","g");if("function"!=typeof t){if(!e)return[];var n=[];return l.each(e.split(t||i),function(e,t){(t=l.trim(t)).length&&n.push(t)}),n}e&&l.each(e.split(i),function(e,a){if((a=l.trim(a)).length)return t(a,e)})},l.validate=function(e){var t=l.extend(l.formUtils.defaultConfig(),{form:"form",validateOnEvent:!1,validateOnBlur:!0,validateCheckboxRadioOnClick:!0,showHelpOnFocus:!0,addSuggestions:!0,modules:"",onModulesLoaded:null,language:!1,onSuccess:!1,onError:!1,onElementValidate:!1});if(e=l.extend(t,e||{}),l(window).trigger("formValidationPluginInit",[e]),e.lang&&"en"!==e.lang){var a="lang/"+e.lang+".js";e.modules+=e.modules.length?","+a:a}l(e.form).each(function(t,a){a.validationConfig=e;var i=l(a);i.trigger("formValidationSetup",[i,e]),i.find(".has-help-txt").unbind("focus.validation").unbind("blur.validation"),i.removeClass("has-validation-callback").unbind("submit.validation").unbind("reset.validation").find("input[data-validation],textarea[data-validation]").unbind("blur.validation"),i.bind("submit.validation",function(t){var a=l(this),i=function(){return t.stopImmediatePropagation(),!1};if(l.formUtils.haltValidation)return i();if(l.formUtils.isLoadingModules)return setTimeout(function(){a.trigger("submit.validation")},200),i();var n=a.isValid(e.language,e);if(l.formUtils.haltValidation)return i();if(n&&"function"==typeof e.onSuccess){if(!1===e.onSuccess(a))return i()}else if(!n&&"function"==typeof e.onError)return e.onError(a),i();else return!!n||i()}).bind("reset.validation",function(){l.formUtils.dialogs.removeAllMessagesAndStyling(i,e)}).addClass("has-validation-callback"),e.showHelpOnFocus&&i.showHelpOnFocus(),e.addSuggestions&&i.addSuggestions(),e.validateOnBlur&&(i.validateOnBlur(e.language,e),i.bind("html5ValidationAttrsFound",function(){i.validateOnBlur(e.language,e)})),e.validateOnEvent&&i.validateOnEvent(e.language,e)}),""!==e.modules&&l.formUtils.loadModules(e.modules,null,function(){"function"==typeof e.onModulesLoaded&&e.onModulesLoaded();var t="string"==typeof e.form?l(e.form):e.form;l.formUtils.$win.trigger("validatorsLoaded",[t,e])})},d=e,c=d(u=window),d.formUtils=d.extend(d.formUtils||{},{$win:c,defaultConfig:function(){return{ignore:[],errorElementClass:"error",successElementClass:"valid",borderColorOnError:"#b94a48",errorMessageClass:"form-error",validationRuleAttribute:"data-validation",validationErrorMsgAttribute:"data-validation-error-msg",errorMessagePosition:"inline",errorMessageTemplate:{container:'<div class="{errorMessageClass} alert alert-danger">{messages}</div>',messages:"<strong>{errorTitle}</strong><ul>{fields}</ul>",field:"<li>{msg}</li>"},scrollToTopOnError:!0,dateFormat:"yyyy-mm-dd",addValidClassOnAll:!1,decimalSeparator:".",inputParentClassOnError:"has-error",inputParentClassOnSuccess:"has-success",validateHiddenInputs:!1,inlineErrorMessageCallback:!1,submitErrorMessageCallback:!1}},validators:{},_events:{load:[],valid:[],invalid:[]},haltValidation:!1,addValidator:function(e){var t=0===e.name.indexOf("validate_")?e.name:"validate_"+e.name;void 0===e.validateOnKeyUp&&(e.validateOnKeyUp=!0),this.validators[t]=e},warn:function(e,t){"console"in u?"function"==typeof u.console.warn?u.console.warn(e):"function"==typeof u.console.log&&u.console.log(e):t&&alert(e)},getValue:function(e,t){var a=t?t.find(e):e;if(a.length>0){var i=a.eq(0).attr("type");return"radio"===i||"checkbox"===i?a.filter(":checked").val()||"":a.val()||""}return!1},validateInput:function(e,t,a,i,n){a=a||d.formUtils.defaultConfig(),t=t||d.formUtils.LANG,i.length||(i=e.parent());var r=this.getValue(e);e.valAttr("skipped",!1).one("beforeValidation",function(){!e.attr("disabled")&&(e.is(":visible")||a.validateHiddenInputs)||e.valAttr("skipped",1)}).trigger("beforeValidation",[r,t,a]);var s="true"===e.valAttr("optional"),o=!r&&s,l=e.attr(a.validationRuleAttribute),u=!0,c="",f={isValid:!0,shouldChangeDisplay:!0,errorMsg:""};if(!l||o||e.valAttr("skipped"))return f.shouldChangeDisplay=a.addValidClassOnAll,f;var g=e.valAttr("ignore");return g&&d.each(g.split(""),function(e,t){r=r.replace(RegExp("\\"+t,"g"),"")}),d.split(l,function(s){0!==s.indexOf("validate_")&&(s="validate_"+s);var o=d.formUtils.validators[s];if(o){if("validate_checkbox_group"===s&&(e=i.find('[name="'+e.attr("name")+'"]:eq(0)')),("keyup"!==n||o.validateOnKeyUp)&&(u=o.validatorFunction(r,e,a,t,i,n)),!u)return a.validateOnBlur&&e.validateOnKeyUp(t,a),c=d.formUtils.dialogs.resolveErrorMessage(e,o,s,a,t),!1}else throw Error('Using undefined validator "'+s+'". Maybe you have forgotten to load the module that "'+s+'" belongs to?')}),!1===u?(e.trigger("validation",!1),f.errorMsg=c,f.isValid=!1,f.shouldChangeDisplay=!0):null===u?f.shouldChangeDisplay=!1:(e.trigger("validation",!0),f.shouldChangeDisplay=!0),"function"==typeof a.onElementValidate&&null!==c&&a.onElementValidate(f.isValid,e,i,c),e.trigger("afterValidation",[f,n]),f},parseDate:function(e,t,a){var i,n,r,s,o=t.replace(/[a-zA-Z]/gi,"").substring(0,1),l="^",u=t.split(o||null);if(d.each(u,function(e,t){l+=(e>0?"\\"+o:"")+"(\\d{"+t.length+"})"}),l+="$",a){var c=[];d.each(e.split(o),function(e,t){1===t.length&&(t="0"+t),c.push(t)}),e=c.join(o)}if(null===(i=e.match(RegExp(l))))return!1;var f=function(e,t,a){for(var i=0;i<t.length;i++)if(t[i].substring(0,1)===e)return d.formUtils.parseDateInt(a[i+1]);return -1};return r=f("m",u,i),n=f("d",u,i),s=f("y",u,i),!(2===r&&n>28&&(s%4!=0||s%100==0&&s%400!=0)||2===r&&n>29&&(s%4==0||s%100!=0&&s%400==0)||r>12||0===r||this.isShortMonth(r)&&n>30||!this.isShortMonth(r)&&n>31||0===n)&&[s,r,n]},parseDateInt:function(e){return 0===e.indexOf("0")&&(e=e.replace("0","")),parseInt(e,10)},isShortMonth:function(e){return e%2==0&&e<7||e%2!=0&&e>7},lengthRestriction:function(e,t){var a=parseInt(t.text(),10),i=0,n=function(){var n=e.val().length;if(n>a){var r=e.scrollTop();e.val(e.val().substring(0,a)),e.scrollTop(r)}(i=a-n)<0&&(i=0),t.text(i)};d(e).bind("keydown keyup keypress focus blur",n).bind("cut paste",function(){setTimeout(n,100)}),d(document).bind("ready",n)},numericRangeCheck:function(e,t){var a=d.split(t),i=parseInt(t.substr(3),10);return(1===a.length&&-1===t.indexOf("min")&&-1===t.indexOf("max")&&(a=[t,t]),2===a.length&&(e<parseInt(a[0],10)||e>parseInt(a[1],10)))?["out",a[0],a[1]]:0===t.indexOf("min")&&e<i?["min",i]:0===t.indexOf("max")&&e>i?["max",i]:["ok"]},_numSuggestionElements:0,_selectedSuggestion:null,_previousTypedVal:null,suggest:function(e,t,a){var i={css:{maxHeight:"150px",background:"#FFF",lineHeight:"150%",textDecoration:"underline",overflowX:"hidden",overflowY:"auto",border:"#CCC solid 1px",borderTop:"none",cursor:"pointer"},activeSuggestionCSS:{background:"#E9E9E9"}},n=function(e,t){var a=t.offset();e.css({width:t.outerWidth(),left:a.left+"px",top:a.top+t.outerHeight()+"px"})};a&&d.extend(i,a),i.css.position="absolute",i.css["z-index"]=9999,e.attr("autocomplete","off"),0===this._numSuggestionElements&&c.bind("resize",function(){d(".jquery-form-suggestions").each(function(){var e=d(this),t=e.attr("data-suggest-container");n(e,d(".suggestions-"+t).eq(0))})}),this._numSuggestionElements++;var r=function(e){var t=e.valAttr("suggestion-nr");d.formUtils._selectedSuggestion=null,d.formUtils._previousTypedVal=null,d(".jquery-form-suggestion-"+t).fadeOut("fast")};return e.data("suggestions",t).valAttr("suggestion-nr",this._numSuggestionElements).unbind("focus.suggest").bind("focus.suggest",function(){d(this).trigger("keyup"),d.formUtils._selectedSuggestion=null}).unbind("keyup.suggest").bind("keyup.suggest",function(){var t=d(this),a=[],s=d.trim(t.val()).toLocaleLowerCase();if(s!==d.formUtils._previousTypedVal){d.formUtils._previousTypedVal=s;var o=!1,l=t.valAttr("suggestion-nr"),u=d(".jquery-form-suggestion-"+l);if(u.scrollTop(0),""!==s){var c=s.length>2;d.each(t.data("suggestions"),function(e,t){var i=t.toLocaleLowerCase();if(i===s)return a.push("<strong>"+t+"</strong>"),o=!0,!1;(0===i.indexOf(s)||c&&i.indexOf(s)>-1)&&a.push(t.replace(RegExp(s,"gi"),"<strong>$&</strong>"))})}o||0===a.length&&u.length>0?u.hide():a.length>0&&0===u.length?(u=d("<div></div>").css(i.css).appendTo("body"),e.addClass("suggestions-"+l),u.attr("data-suggest-container",l).addClass("jquery-form-suggestions").addClass("jquery-form-suggestion-"+l)):a.length>0&&!u.is(":visible")&&u.show(),a.length>0&&s.length!==a[0].length&&(n(u,t),u.html(""),d.each(a,function(e,a){d("<div></div>").append(a).css({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"5px"}).addClass("form-suggest-element").appendTo(u).click(function(){t.focus(),t.val(d(this).text()),t.trigger("change"),r(t)})}))}}).unbind("keydown.validation").bind("keydown.validation",function(e){var t,a,n=e.keyCode?e.keyCode:e.which,s=d(this);if(13===n&&null!==d.formUtils._selectedSuggestion){if((a=d(".jquery-form-suggestion-"+(t=s.valAttr("suggestion-nr")))).length>0){var o=a.find("div").eq(d.formUtils._selectedSuggestion).text();s.val(o),s.trigger("change"),r(s),e.preventDefault()}}else{var l=(a=d(".jquery-form-suggestion-"+(t=s.valAttr("suggestion-nr")))).children();if(l.length>0&&d.inArray(n,[38,40])>-1){38===n?(null===d.formUtils._selectedSuggestion?d.formUtils._selectedSuggestion=l.length-1:d.formUtils._selectedSuggestion--,d.formUtils._selectedSuggestion<0&&(d.formUtils._selectedSuggestion=l.length-1)):40===n&&(null===d.formUtils._selectedSuggestion?d.formUtils._selectedSuggestion=0:d.formUtils._selectedSuggestion++,d.formUtils._selectedSuggestion>l.length-1&&(d.formUtils._selectedSuggestion=0));var u=a.innerHeight(),c=a.scrollTop(),f=a.children().eq(0).outerHeight()*d.formUtils._selectedSuggestion;return(f<c||f>c+u)&&a.scrollTop(f),l.removeClass("active-suggestion").css("background","none").eq(d.formUtils._selectedSuggestion).addClass("active-suggestion").css(i.activeSuggestionCSS),e.preventDefault(),!1}}}).unbind("blur.suggest").bind("blur.suggest",function(){r(d(this))}),e},LANG:{errorTitle:"فَشِلَ إرسال النموذج",requiredField:"",requiredFields:"لم يتم ملأ جميع الحقول المطلوبة.",badTime:"حقل الوقت خاطىء",badEmail:"البريد الإلكتروني المدخل خاطئ",badTelephone:"رقم الهاتف المدخل خاطئ",badSecurityAnswer:"لم يتم الإجابة عن سؤال الأمان",badDate:"تاريخ مدخل خاطئ",lengthBadStart:"القيمة المدخلة يجب أن تكون بين ",lengthBadEnd:" حروف",lengthTooLongStart:"القيمة المدخل أطول من ",lengthTooShortStart:"القيمة المدخل أقصر من ",notConfirmed:"لم يتم تأكيد القيمة المدخلة",badDomain:"قيمة نطاق خاطئة",badUrl:"القيمة المدخلة ليست رابطاً صالحاً",badCustomVal:"القيمة المدخلة غير صالحة",andSpaces:" ومسافات ",badInt:"القيمة المدخلة ليست رقماً صحيحاً",badSecurityNumber:"رقم بطاقة الهوية غير صحيح",badUKVatAnswer:"رقم UK VAT غير صحيح",badUKNin:"غير صحيح UK NINرقم ",badUKUtr:"غير صحيح UK UTR رقم",badStrength:"كلمة المرور غير قوية",badNumberOfSelectedOptionsStart:"يجب اختيار على الأقل ",badNumberOfSelectedOptionsEnd:" أجوبة",badAlphaNumeric:"القيمة المدخلة يجب أن تتضمن حروف وأرقام فقط ",badAlphaNumericExtra:" و ",wrongFileSize:"الملف المراد تحميله كبير جداً (الحد المسموج %s)",wrongFileType:"ملفات من نوع %s فقط مسموحة",groupCheckedRangeStart:"من فضلك اختر بين ",groupCheckedTooFewStart:"من فضلك اختر على الأقل ",groupCheckedTooManyStart:"من فضلك اختر بحد أقصى ",groupCheckedEnd:" مرات",badCreditCard:"رقم بطاقة ائتمانية خاطىء",badCVV:"رمز الأمان خاطئ",wrongFileDim:"حدود الصورة غير صالحة",imageTooTall:"الصورة يمكن أن تكون أطول من",imageTooWide:"الصورة يمكن أن تكون أعرض من",imageTooSmall:"صورة صغيرة جداً",min:"أدنى",max:"أقصى",imageRatioNotAccepted:"أبعاد صورة غير مقبولة",badBrazilTelephoneAnswer:"رقم هاتف مدخل خاطىء",badBrazilCEPAnswer:"قيمة CEP المدخلة غير صحيحة",badBrazilCPFAnswer:"قيمة CPF المدخلة غير صحيحة",badPlPesel:"قيمة Pl PESEL المدخلة غير صحيحة",badPlNip:"قيمة Pl NIP المدخلة غير صحيحة",badPlRegon:"قيمة Pl REGON المدخلة غير صحيحة",badreCaptcha:"من فضلك أكد أنك لست روبوتاً",passwordComplexityStart:"كملة المرور تتكون على الأقل من ",passwordComplexitySeparator:", ",passwordComplexityUppercaseInfo:" حروف كبيرة",passwordComplexityLowercaseInfo:" حروف صغيرة",passwordComplexitySpecialCharsInfo:" رموز خاصة",passwordComplexityNumericCharsInfo:" أرقام",passwordComplexityEnd:"."}}),(f=e).formUtils.addValidator({name:"email",validatorFunction:function(e){var t=e.toLowerCase().split("@"),a=t[0],i=t[1];if(a&&i){if(0===a.indexOf('"')){var n=a.length;if((a=a.replace(/\"/g,"")).length!==n-2)return!1}return f.formUtils.validators.validate_domain.validatorFunction(t[1])&&0!==a.indexOf(".")&&"."!==a.substring(a.length-1,a.length)&&-1===a.indexOf("..")&&!/[^\w\+\.\-\#\-\_\~\!\$\&\'\(\)\*\+\,\;\=\:]/.test(a)}return!1},errorMessage:"",errorMessageKey:"badEmail"}),f.formUtils.addValidator({name:"domain",validatorFunction:function(e){return e.length>0&&e.length<=253&&!/[^a-zA-Z0-9]/.test(e.slice(-2))&&!/[^a-zA-Z0-9]/.test(e.substr(0,1))&&!/[^a-zA-Z0-9\.\-]/.test(e)&&1===e.split("..").length&&e.split(".").length>1},errorMessage:"",errorMessageKey:"badDomain"}),f.formUtils.addValidator({name:"required",validatorFunction:function(e,t,a,i,n){switch(t.attr("type")){case"checkbox":return t.is(":checked");case"radio":return n.find('input[name="'+t.attr("name")+'"]').filter(":checked").length>0;default:return""!==f.trim(e)}},errorMessage:"",errorMessageKey:function(e){return"top"===e.errorMessagePosition||"function"==typeof e.errorMessagePosition?"requiredFields":"requiredField"}}),f.formUtils.addValidator({name:"length",validatorFunction:function(e,t,a,i){var n=t.valAttr("length"),r=t.attr("type");if(void 0===n)return alert('Please add attribute "data-validation-length" to '+t[0].nodeName+" named "+t.attr("name")),!0;var s,o="file"===r&&void 0!==t.get(0).files?t.get(0).files.length:e.length,l=f.formUtils.numericRangeCheck(o,n);switch(l[0]){case"out":this.errorMessage=i.lengthBadStart+n+i.lengthBadEnd,s=!1;break;case"min":this.errorMessage=i.lengthTooShortStart+l[1]+i.lengthBadEnd,s=!1;break;case"max":this.errorMessage=i.lengthTooLongStart+l[1]+i.lengthBadEnd,s=!1;break;default:s=!0}return s},errorMessage:"",errorMessageKey:""}),f.formUtils.addValidator({name:"url",validatorFunction:function(e){if(/^(https?|ftp):\/\/((((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|\[|\]|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)){var t=e.split("://")[1],a=t.indexOf("/");return a>-1&&(t=t.substr(0,a)),f.formUtils.validators.validate_domain.validatorFunction(t)}return!1},errorMessage:"",errorMessageKey:"badUrl"}),f.formUtils.addValidator({name:"number",validatorFunction:function(e,t,a){if(""!==e){var i,n,r=t.valAttr("allowing")||"",s=t.valAttr("decimal-separator")||a.decimalSeparator,o=!1,l=t.valAttr("step")||"",d=!1;if((t.attr("data-sanitize")||"").match(/(^|[\s])numberFormat([\s]|$)/i)){if(!window.numeral)throw ReferenceError("The data-sanitize value numberFormat cannot be used without the numeral library. Please see Data Validation in http://www.formvalidator.net for more information.");e.length&&(e=String(numeral().unformat(e)))}if(-1===r.indexOf("number")&&(r+=",number"),-1===r.indexOf("negative")&&0===e.indexOf("-"))return!1;if(r.indexOf("range")>-1&&(i=parseFloat(r.substring(r.indexOf("[")+1,r.indexOf(";"))),n=parseFloat(r.substring(r.indexOf(";")+1,r.indexOf("]"))),o=!0),""!==l&&(d=!0),","===s){if(e.indexOf(".")>-1)return!1;e=e.replace(",",".")}if(""===e.replace(/[0-9-]/g,"")&&(!o||e>=i&&e<=n)&&(!d||e%l==0)||r.indexOf("float")>-1&&null!==e.match(RegExp("^([0-9-]+)\\.([0-9]+)$"))&&(!o||e>=i&&e<=n)&&(!d||e%l==0))return!0}return!1},errorMessage:"",errorMessageKey:"badInt"}),f.formUtils.addValidator({name:"alphanumeric",validatorFunction:function(e,t,a,i){var n="^([a-zA-Z0-9",r="]+)$",s=t.valAttr("allowing"),o="",l=!1;if(s){o=n+s+r;var d=s.replace(/\\/g,"");d.indexOf(" ")>-1&&(l=!0,d=d.replace(" ",""),d+=i.andSpaces||f.formUtils.LANG.andSpaces),i.badAlphaNumericAndExtraAndSpaces&&i.badAlphaNumericAndExtra?l?this.errorMessage=i.badAlphaNumericAndExtraAndSpaces+d:this.errorMessage=i.badAlphaNumericAndExtra+d+i.badAlphaNumericExtra:this.errorMessage=i.badAlphaNumeric+i.badAlphaNumericExtra+d}else o=n+r,this.errorMessage=i.badAlphaNumeric;return RegExp(o).test(e)},errorMessage:"",errorMessageKey:""}),f.formUtils.addValidator({name:"custom",validatorFunction:function(e,t){return RegExp(t.valAttr("regexp")).test(e)},errorMessage:"",errorMessageKey:"badCustomVal"}),f.formUtils.addValidator({name:"date",validatorFunction:function(e,t,a){var i=t.valAttr("format")||a.dateFormat||"yyyy-mm-dd",n="false"===t.valAttr("require-leading-zero");return!1!==f.formUtils.parseDate(e,i,n)},errorMessage:"",errorMessageKey:"badDate"}),f.formUtils.addValidator({name:"checkbox_group",validatorFunction:function(e,t,a,i,n){var r=!0,s=f('input[type=checkbox][name^="'+t.attr("name")+'"]',n),o=s.filter(":checked").length,l=t.valAttr("qty");void 0===l&&alert('Attribute "data-validation-qty" is missing from '+t.get(0).nodeName+" named "+t.attr("name"));var d=f.formUtils.numericRangeCheck(o,l);switch(d[0]){case"out":this.errorMessage=i.groupCheckedRangeStart+l+i.groupCheckedEnd,r=!1;break;case"min":this.errorMessage=i.groupCheckedTooFewStart+d[1]+(i.groupCheckedTooFewEnd||i.groupCheckedEnd),r=!1;break;case"max":this.errorMessage=i.groupCheckedTooManyStart+d[1]+(i.groupCheckedTooManyEnd||i.groupCheckedEnd),r=!1;break;default:r=!0}if(!r){var u=function(){s.unbind("click",u),s.filter("*[data-validation]").validateInputOnBlur(i,a,!1,"blur")};s.bind("click",u)}return r}})});
